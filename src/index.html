<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>EgoExo Video Player Prototype</title>
    <script
        src="https://webgl2fundamentals.org/webgl/resources/webgl-utils.js"></script>
    <script
        src="https://webgl2fundamentals.org/webgl/resources/m4.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.8.1/gl-matrix-min.js"
      integrity="sha512-zhHQR0/H5SEBL3Wn6yYSaTTZej12z0hVZKOv3TwCUXT1z5qeqGcXJLLrbERYRScEDDpYIJhPC1fk31gqR783iQ=="
      crossorigin="anonymous"
      defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="static/jszip.min.js" type="module" defer></script>
    <script src="static/narrator.js" type="module" defer></script>
    <link rel="stylesheet" href="static/style.css"></style>
  </head>

  <body>
      <div class="flex flex-col min-h-screen max-h-screen">
        <div class="bg-purple-600 px-8 flex items-center justify-between py-4 shadow-sm text-white">
            <button class="mx-1 px-4 py-1" id="mainMenuBtn">Narrator Tool</button>
            <!-- TODO -->
            <div class="flex">
            <button class="mx-1 px-4 py-1 text-sm text-white-600 font-semibold
                rounded-full border border-white-600 hover:text-black
                hover:bg-black-600 hover:border-black-600 focus:outline-none
            focus:ring-2 focus:ring-purple-600 focus:ring-offset-2"
            id="shortcutsBtn">Shortcuts (?)</button>
            <button class="mx-1 px-4 py-1 text-sm text-white-600 font-semibold
                rounded-full border border-white-600 hover:text-black
                hover:bg-black-600 hover:border-black-600 focus:outline-none
            focus:ring-2 focus:ring-purple-600 focus:ring-offset-2"
            id="settingsBtn">Settings (ESC)</button>
            </div>
        </div>
        <div id="shortcutsScreen" class="flex h-screen overflow-hidden hidden">
            <div class="overflow-x-auto w-1/2 m-auto">
              <table class="border-2 w-full divide-y-2 divide-gray-200 bg-white text-sm">
                <thead>
                  <tr class="text-left text-lg">
                    <th class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                      Action
                    </th>
                    <th class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                      Shortcut Key
                    </th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                  <tr class="odd:bg-gray-50">
                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                        Start or Stop Recording
                    </td>
                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">Enter</td>
                  </tr>
                  <tr class="odd:bg-gray-50">
                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                        Play Video
                    </td>
                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">Space</td>
                  </tr>
                  <tr class="odd:bg-gray-50">
                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                        Next Frame
                    </td>
                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">Right Arrow or .</td>
                  </tr>
                  <tr class="odd:bg-gray-50">
                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                        Previous Frame
                    </td>
                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">Left Arrow or ,</td>
                  </tr>
                  <tr class="odd:bg-gray-50">
                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                        Show Shortcuts
                    </td>
                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">? (hold)</td>
                  </tr>
                  <tr class="odd:bg-gray-50">
                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">
                        Open Settings
                    </td>
                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">Escape (press)</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>

        <div id="settingsScreen" class="flex h-screen overflow-hidden hidden">
            <div class="p-6 items-center">
                TODO
            </div>
        </div>

        <div id="mainScreen" class="flex h-screen overflow-hidden">
            <main class='flex-grow p-6 overflow-hidden'> 
                <div class="flex-1">
                    <canvas class="flex-1" id="glcanvas"> </canvas>
                </div>
                <div class="w-full flex-col content-center">
                    <div class="flex w-full">
                        <button id="prevFrameBtn" class="m-1 px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Prev Frame</button>
                        <button id="playBtn" class="m-1 px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2
                    ">Play</button>
                        <button id="nextFrameBtn" class="m-1 px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2
                    ">Next Frame</button>
                    </div>
                    <div>
                        <div class="flex-0 px-4">Time: <span id="timeInfo">0</span> s</div>
                        <div class="flex-0 px-4">Frame (approx.): <span id="frameInfo">0</span></div>
                    </div>
                    <input class="w-full" type="range" min="1" max="100" value="0" class="slider" id="playBar">
                </div>
            </main>
            <div class="max-h-screen bg-gray-100 shadow-sm p-6 space-y-6 w-1/4 overflow-y-scroll">
                <div>
                    <div class="flex">
                        <button id="rejectBtn" class="px-4 m-1 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2
                    ">Reject</button>
                        <button id="submitBtn" class="px-4 m-1 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2
                    ">Finish</button>
                    </div>
                    <button id="recordBtn" class="m-1 px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2
                ">Record</button>
                    <div>
                        <button id="clearStrokeBtn" class="px-4 m-1 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-400 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2
                    ">Clear Stroke</button>
                    </div>
                </div>
                <div>
                    <ol id="audioList">
                    </ol>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>

